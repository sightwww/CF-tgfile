# TGDrive

## 项目特点
该项目是一个基于 Cloudflare Worker 环境的文件上传与管理系统，利用 Telegram 频道的存储功能，允许用户通过网页界面上传文件。系统支持用户认证、文件管理、搜索和删除功能，上传的文件将通过 Telegram 机器人发送到指定的频道聊天中。

## 功能
- **用户认证**：支持基本的用户名和密码认证，确保只有授权用户可以访问管理功能。
- **文件上传**：用户可以通过拖拽或点击选择文件进行上传，支持多文件上传。
- **文件管理**：管理员可以查看已上传的文件列表，支持预览（图片和视频格式）、复制链接、下载和删除文件。
- **文件搜索**：用户可以根据文件名或 URL 搜索已上传的文件。
- **背景图更新**：系统会定期从 Bing 获取背景图，提升用户体验。

## 部署方法
1. **环境准备**：
   - 创建 Cloudflare Worker 账户，并配置 D1 数据库。

2. **部署项目**：
   - 新建一个 worker，复制 `_worker.js` 的内容粘贴到项目中并部署

3. **配置环境变量**：
   DOMAIN=你绑定的域名  
   DATABASE=绑定你的D1数据库  
   USERNAME=登录用户名  
   PASSWORD=登录密码  
   ENABLE_AUTH=true  //是否启用登录验证，默认为 true  
   TG_BOT_TOKEN=你的TG机器人 token  
   TG_CHAT_ID=你的频道ID  //注意：是频道ID，不是机器人ID，格式为`-10*****062333`  
   MAX_SIZE_MB=20  //上传的单文件大小上限，默认为 20m，无需修改，tg 最大只能上传 20m  

5. **访问应用**：
   打开浏览器，访问 `http://你绑定的域名`，进行文件上传和管理。

## 贡献
欢迎任何形式的贡献！请提交问题或拉取请求。

## 许可证
该项目采用 MIT 许可证，详细信息请查看 LICENSE 文件。
